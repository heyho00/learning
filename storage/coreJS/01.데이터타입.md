# 데이터 타입

크게 기본형(원시형), 참조형으로 나뉜다.

#### 기본형

값이 담긴 주솟값을 바로 복제.
불변성을 띈다.

- 숫자, 문자열, 불리언, null, undefined, symbol

#### 참조형

값이 담긴 주솟값들로 이루어진 묶음을 가리키는 주솟값을 복제.

- 객체, 배열, 함수, 날짜(Date), 정규표현식

---

<br/>

### 데이터 할당

```jsx
var a;
a = "abc";

var a = "abc";
```

<img src="../../image/memory.png" width="300" />

<br />

<img src="../../image/memory2.png" width="300" />

데이터를 저장하기 위한 별도의 메모리 공간을 다시 확보해서 문자열 'abc'를 저장. 그 주소를 변수영역에 저장하는 모습.

이렇게 '변수 영역'과 '데이터 영역'으로 나뉜다.

데이터 변환을 자유롭게 할 수 있게 함과 동시에 메모리를 더욱 효과적으로 관리하기위한 결과이다.

데이터를 저장할때 이렇게 변수 영역과 데이터의 영역이 나뉘어있기 때문에 기본형과 참조형의 성질이 달라지게 되는데...
<br>

---

<br>

## 기본값의 불변성

```jsx
var a = "abc";
a = a + "def";

var b = 5;
var c = 5;
b = 7;
```

- a는 기존의 abc가 abcdef로 바뀌는 것이 아니라
  새로운 문자열 abcdef를 만들어 그 주소를 변수 a에 저장하는 것.

- c에 할당되는 5는 b에서 이미 만들어놓은 값의 주소를 재활용.

- b=7에서 기존의 5를 7로 바꾸는것이 아니라 기존에 저장했던 7을 찾아보고 있으면 재활용, 없으면 새로 만들어 그 주소를 b에 저장하는것.

데이터 영역의 값이 다른 값으로 값 자체가 변하는게 아니라 있으면 재활용, 없으면 만들어 주소를 저장하는것.

<br>

## 참조형 데이터의 가변성

기본적인 성질은 가변값인 경우가 많지만 설정에 따라 불변성을 띄기도 함.

일단 지금은 참조형은 복사하는 과정에서 주소 참조가 두번 일어나며 객체의 내부 프로퍼티를 변경할 수 있기때문에 가변성을 띈다고 하는것을 기억하자.

참조형 데이터 자체를 변경하는게 아님. 데이터 자체를 변경하고자 하면(이마저도 새로운 데이터를 할당하는것) 기본형과 마찬가지로 새 객체를 만들어 재할당 해야한다.

<br>

---

<br>

## 불변 객체

값으로 전달받은 객체에 변경을 가하더라도 원본 객체는 변하지 않아야 하는 경우 `불변 객체`가 필요하다.

#### 가변성에 따른 문제점을 해결하기.

1. 객체 자체에 할당 X, 객체 프로퍼티에 할당, 리턴하는 함수로 만든다.
2. 프토퍼티 개수에 상관없이 모든 프로퍼티를 복사하는 함수를 만든다.

2번의 경우 얕은복사, 깊은복사를 이용할 수 있다.

```jsx
var copyObject = function (target) {
  var result = {};
  for (var prop in target) {
    result[prop] = target[prop];
  }
  return result;
};

var user = {
  name: "Harry",
  gender: "male",
};

var user2 = copyObject(user);
user2.name = "Heyho";

if (user !== user2) {
  console.log("유저 정보가 바뀜");
}

console.log(user.name, user2.name); // Harry Heyho
```

user 객체 내부의 변경이 필요할 때는 무조건 copyObject 함수를 사용하기로 합의하고 규칙을 지킨다는 전제하에서 user 객체가 곧 `불변객체`가 된다.

<br>

---

<br>

## '없음'을 나타내는 값

undefined 어떤 변수에 값이 존재하지 않을 경우
null 개발자가 명시적으로 '없음'을 표현하기 위해 대입한 값.

<img src="../../image/nullundefined.png" width="300" />
