# 5. 책임과 메시지

'책임은 협력에 참여하는 의도를 명확하게 설명할 수 있을 수준 안에서 추상적이어야 한다.'

## 자율적인 책임

왕이 모자장수에게 목격 장면을 떠올려, 기억을 시간순으로 재구성해, 말로 간결하게 표현해 와 같이 상세한 수준으로 요청한다면 협력의 최종 목표는 만족시킬지 몰라도

모자 장수가 누려야 하는 선택의 자유는 크게 훼손된다.

## 너무 추상적인 책임

수행 방법을 제한할 정도로 너무 구체적인것도 문제지만 협력의 의도를 명확하게 표현하지 못할 정도로 추상적인 것 역시 문제다.

모자 장수에게 사건에 대해 증언하라 가 아닌 ‘설명하라'라는 강한 추상화를 적용하면 모자장수는 자신의 일생에 대해 설명하란건지 모자를 얼마나 팔았는지에 관해 설명하란건지 의도를 알 수 없다.
<br>

## What/Who 사이클

책임주도 설계의 핵심 아이디어.

어떤 행위(what)’를 수행할 것인지를 결정한 후에 ‘누가(who)’ 그 행위를 수행할 것인지를 결정해야 한다는 것

수신 가능한 메시지가 모여 객체의 인터페이스를 구성한다.

## 묻지말고시켜라

메시지를 먼저 결정하고 객체가 메시지를 따르게 하는 설계 방식은 객체가 외부에 제 공하는 인터페이스가 독특한 스타일을 따르게 한다.

송신자는 믿음에 의해 수신자에게 메시지를 전송. 어떤 객체인지도 모르고 잘 처리할거라는 믿음으로 .

<br>

## 객체 인터페이스

어떤 두 사물이 마주치는 경계 지점에서 서로 상호작용할 수 있게 이어주는 방 법이나 장치를 의미.

말과 글이라는 인터 페이스를 이용해 자신의 의사를 전달한다. 언어가 통하지 않는 사람들은 최후의 인터 페이스인 몸짓, 발짓을 이용해서라도 어떻게든 의사소통을 이뤄낸다.

특징,

1. 인터페이스의 사용법을 익히면 내부 구조나 동작방식을 몰라도 쉽게 대상을 조작, 의사전달을 할 수 있다.
2. 인터페이스 자체는 변경하지 않고 단순히 내부 구성이나 작동 방식만을 변경하는 것은 인터페이스 사용자에게 어떤 영향도 미치지 않는다.
3. 대상이 변경되더라도 동일한 인터페이스를 제공하기만 하면 아무런 문제없이 상호작용 할 수 있다.

## 메시지가 인터페이스를 결정한다.

객체가 다른 객체와 상호작용할 수 있는 유일한 방법은 `‘메시지 전송’`이다. 따라서 객체의 인터페이스는 객체가 수신할 수 있는 메시지의 목록으로 구성된다.

## 공용 인터페이스

지금까지는 아무런 제약없이 인터페이스의 모든 부분을 외부에서 접근할 수 있는 것처 럼 설명했다. 그러나 실제로 인터페이스는 외부에서 접근 가능한 공개된 인터페이스와 내부에서만 접근할 수 있는 감춰진 인터페이스로 구분된다.

외부에 공개된 인터페이스가 공용 인터페이스.
모든 인터페이스는 메시지 전송을 통해서만 접근할 수 있다. 단지 메시지 송신자가 다른 객체인지 아니면 객체 자신인지 만 다를 뿐이다.

모자 장수가 증언하라, 증인석에 입장하라 라는 인터페이스를 외부에 공개하고있어 왕과 토끼가 요청을 보낼 수 있다.

## 인터페이스와 구현의 분리

- 객체 관점에서 생각하는 방법

■ 좀 더 추상적인 인터페이스
■ 최소 인터페이스
■ 인터페이스와 구현간에 차이가 있다는 점을 인식

## 구현

객체지향의 세계에서 내부 구조와 작동 방식을 가리키는 고유의 용어는 구현
(implementation)이다. 객체를 구성하지만 공용 인터페이스에 포함되지 않는 모든것이 구현에 포함된다.

상태와 메서드가 구현에 포함된다.

## 인터페이스와 구현의 분리 원칙

변경을 관리하기 위한 것.
변경될 만한 부분은 객체의 내부에 숨긴다. -> 캡슐화

## 캡슐화

객체의 자율성을 보존하기 위해 구현을 외부로부터 감추는 것을 캡슐화라고 한다.

적절한 추상화가 중요하다.

책임이 자율적일수록 적절하게 ‘추상화’되며，‘응집도’가 높아지고，‘결합도’가 낮아지며, ‘캡슐화’가 증진되고, ‘인터페이스와 구현이 명확히 분리’되며, 설계의 ‘유연성’과 ‘재사
용성’이 향상된다.

---
